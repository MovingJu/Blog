<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="dns-prefetch" href="https://MovingJu.disqus.com" />
    <meta
      itemprop="description"
      name="description"
      content="
        
            
        "
    />
    <title>
      
          [Project] Onvacation Project
      
    </title>

    <!-- CSS: 비동기 로드 대신 바로 로드 (깜박임 방지) -->
    <link rel="stylesheet" href="/assets/css/styles.css" />

    <!-- 페이지 렌더 전에 테마 CSS 변수 즉시 적용 (깜박임 방지용) -->
    <script>
      (function(){
        const themeMap = {
          'default-dark': {
            'background-color': '#222',
            'text-color': 'white',
            'highlight-color': '#2e2e2e'
          },
          'default-light': {
            'background-color': 'white',
            'text-color': '#222',
            'highlight-color': '#eee'
          },
          'solarized-light': {
            'background-color': '#fdf6e3',
            'text-color': '#657b83',
            'highlight-color': '#eee8d5'
          },
          'solarized-dark': {
            'background-color': '#002b36',
            'text-color': '#839496',
            'highlight-color': '#073642'
          },
          'sepia-light': {
            'background-color': '#f4ecd8',
            'text-color': '#5b4636',
            'highlight-color': '#e4d5b7'
          },
          'sepia-dark': {
            'background-color': '#3e2c1c',
            'text-color': '#d8c3a5',
            'highlight-color': '#4b382a'
          }       // 필요시 추가 테마 넣기
        };
        const savedTheme = localStorage.getItem('theme') || 'default-dark';
        const theme = themeMap[savedTheme] || themeMap['default-dark'];
        const html = document.documentElement;
        for (const key in theme) {
          html.style.setProperty(`--primary-${key}`, theme[key]);
        }
      })();
    </script>

    <!-- 기존 메타, dns-prefetch, 폰트 등은 그대로 유지 -->
    <link rel="dns-prefetch" href="www.googletagmanager.com" />
    <link rel="dns-prefetch" href="www.google-analytics.com" />
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet" />

    <script type="text/javascript" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA_123456789_1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA_123456789_1');
</script>

    <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" />
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>[Project] Onvacation Project</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="[Project] Onvacation Project" />
<meta name="author" content="MovingJu" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="글쓴이 : MovingJu" />
<meta property="og:description" content="글쓴이 : MovingJu" />
<link rel="canonical" href="http://localhost:4000/project/research/2025/11/24/Project-_Onvacation_project.html" />
<meta property="og:url" content="http://localhost:4000/project/research/2025/11/24/Project-_Onvacation_project.html" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-11-24T00:00:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="[Project] Onvacation Project" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"MovingJu"},"dateModified":"2025-11-24T00:00:00+09:00","datePublished":"2025-11-24T00:00:00+09:00","description":"글쓴이 : MovingJu","headline":"[Project] Onvacation Project","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/project/research/2025/11/24/Project-_Onvacation_project.html"},"url":"http://localhost:4000/project/research/2025/11/24/Project-_Onvacation_project.html"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body onload="onLoad()">
    <select id='themeSelector' onchange="toggleTheme()" aria-label="Select theme">
</select>

    <div class="mid-section-cover">
    <nav>
        <h1>MovingJu</h1>
        <ul>
      <li>
        <a href = "/">
          Home
        </a>
      </li>
      <li style="margin-top: 5px;">
        <a href = "/about/">
          About
        </a>
      </li>
      <li style="margin-top: 5px;">
        <a href = "/blog/">
          Blog
        </a>
      </li>
      <li style="margin-top: 5px;">
        <a href = "/Resume.pdf">
          Resume
        </a>
      </li>
</ul>
    </nav>
    <main class="sub-mid-section-cover">
        <h2>[Project] Onvacation Project</h2>
<small></small>
<p><strong>글쓴이</strong> : MovingJu</p>

<p><br /></p>

<h1 id="onvacation-project">Onvacation project</h1>

<p><a href="https://github.com/MovingJu/On-vacation-project">Github</a></p>

<p>Real-Time(Soft) C++ Server for DASOM On-Vacation Project</p>

<p>본 프로젝트는 브라우저에서 실시간으로 이미지 또는 스트림 데이터를 전송하면 C++ 서버가 YOLOv5 모델을 이용해 빠르게 추론하여 결과를 반환하는 실시간 비전 서비스입니다.</p>

<p>파이썬 기반 서버에서 발생하는 구조적 한계를 극복하고, 모델 추론 지연(latency)을 최소화하는 것이 핵심 목표입니다.</p>

<p><br /></p>

<h2 id="1-프로젝트-개요">1. 프로젝트 개요</h2>

<p>이 프로젝트는 다음 목표에서 출발했습니다:</p>

<ul>
  <li>
    <p>모델 배포(Model Deployment)를 직접 경험하고자 함</p>
  </li>
  <li>
    <p>연구용 모델과 실제 서비스형 모델의 차이를 파악</p>
  </li>
  <li>
    <p>Real-Time(soft) 수준의 빠른 추론이 가능한 서버 구조 설계</p>
  </li>
</ul>

<p>이를 위해 Yolo v5 모델을 이용한 Object Detection 서비스를 기획했습니다.</p>

<p><br /></p>

<h2 id="2-왜-c-서버인가">2. 왜 C++ 서버인가?</h2>

<p><br /></p>

<h3 id="장점pros">장점(Pros)</h3>

<ul>
  <li>압도적인 속도 (Speed)</li>
</ul>

<p>파이썬은 내부적으로 reference counting, 다양한 메타데이터 구조 때문에 dereference 과정에서 성능 병목이 발생함</p>

<p>C++은 불필요한 메타데이터가 없어 연산 속도가 훨씬 빠름</p>

<ul>
  <li>진정한 멀티스레딩 구현 가능</li>
</ul>

<p>GIL이 없는 언어</p>

<p>atomic 기반의 lock-free 자료형 직접 구현 가능</p>

<p><br /></p>

<h3 id="단점cons">단점(Cons)</h3>

<ul>
  <li>안전성의 트레이드오프(사실상 포기)</li>
</ul>

<p>포인터 오류가 즉시 프로그램 크래시로 이어짐</p>

<p>스레드 안전성(Thread Safety) 고려 필수</p>

<ul>
  <li>멀티스레딩 난이도</li>
</ul>

<p>쓰레드 실행 순서 불확실성</p>

<p>읽기/수정/쓰기 사이의 데이터 레이스(Data Race) 문제</p>

<p>리소스 보호를 위한 올바른 디자인 패턴 필요</p>

<ul>
  <li>긴 개발 시간</li>
</ul>

<p>기본 구조 없이는 설계가 까다로움</p>

<p>리팩토링 및 장기 유지보수에 적합</p>

<ul>
  <li>표준과 라이브러리 생태계의 모호함</li>
</ul>

<p>외부 종속성 관리가 어렵고 기준이 명확하지 않음</p>

<p><br /></p>

<h2 id="3-왜-c이-위험한가-data-race-설명">3. 왜 C++이 위험한가? (Data Race 설명)</h2>

<p>데이터 레이스는 다음 시나리오에서 발생합니다:</p>

<p><br /></p>

<p>DRAM에 있는 변수 x 를 두 개의 스레드가 동시에 x++ 실행</p>

<p>각 스레드는 Register 로 값을 가져온 후 연산합니다.</p>

<p>Thread 1: Read(0) -&gt; 0++
Thread 2: Read(0) -&gt; 0++</p>

<p>두 스레드 모두 1을 DRAM에 Write</p>

<p>기대값: 2
실제값: 1</p>

<p>따라서 atomic 자료형, mutex(lock)가 필수적입니다.</p>

<p><br /></p>

<h2 id="4-서버-구조-및-디자인-패턴">4. 서버 구조 및 디자인 패턴</h2>

<p>프로젝트에서 채택한 핵심 패턴: Work-Queue Pattern</p>

<p><br /></p>

<h2 id="5-직접-시연해보기-demo">5. 직접 시연해보기 (Demo)</h2>

<h3 id="서비스-주소">서비스 주소:</h3>
<ul>
  <li><a href="http://onvacation.movingju.com">http://onvacation.movingju.com</a></li>
</ul>

<p><code class="language-python highlighter-rouge"><span class="n">서버</span> <span class="n">내렸습니다</span><span class="p">.</span> <span class="n">다시</span> <span class="n">올릴</span> <span class="n">계획</span> <span class="n">없음</span></code></p>

<h3 id="requirement">Requirement:</h3>
<ul>
  <li>Docker</li>
</ul>

<h3 id="execute-command">Execute Command:</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker pull movingju/public:cpp_server
docker run <span class="nt">-p</span> 8000:8000 movingju/public:cpp_server
</code></pre></div></div>
<blockquote>
  <p>도커는 이용 가능합니다.</p>
</blockquote>

<p><br /></p>

<h2 id="6-성능-performance">6. 성능 (Performance)</h2>

<p>300 FPS 서버 전송 주기</p>

<p>5명 동시 사용자 환경에서도 안정적으로 동작합니다.</p>

<p>하지만, 서버 전송 주기가 고정되어 있어서 이에 대한 개선이나 서버 수의 증가가 필요합니다.</p>

<p>여기까지, 실시간 추론 서비스로 충분히 빠른 응답성을 확보했습니다.</p>

<p><br /></p>

<h2 id="7-앞으로의-개선-계획-backlogs">7. 앞으로의 개선 계획 (Backlogs)</h2>

<ul>
  <li>모델 양자화 (INT8)</li>
</ul>

<p>모델을 INT8 형태로 양자화하면
-&gt; 추론 지연 감소
-&gt; 모바일 및 엣지 디바이스 성능 향상</p>

<p><br /></p>

<ul>
  <li>Edge TPU 적용</li>
</ul>

<p>Coral Edge TPU 등을 활용하여
-&gt; 하드웨어 기반 초저지연 추론 실험 예정</p>

<p><br /></p>

<ul>
  <li>실제 서비스 배포</li>
</ul>

<p>데모 서버를 넘어서 완전한 실사용 가능한 실시간 추론 서비스로 확장 계획</p>

<blockquote>
  <p>세미나 여러분의 수요를 감당하기 위한 안정적 배포 환경 구축 필요했고, 임시로 로컬 컴퓨터에서 돌아가도록 구현했습니다.</p>
</blockquote>

<p><br /></p>

<h2 id="8-프로젝트-요약">8. 프로젝트 요약</h2>

<p>C++ 기반 실시간 YOLOv5 추론 서버</p>

<p>Work-Queue 멀티스레드 구조로 낮은 latency를 실현</p>

<p>실시간 WebSocket 스트리밍 지원</p>

<p>Docker 기반 손쉬운 배포</p>

<p>향후 Edge TPU 및 INT8 최적화 계획</p>

<p>이상.</p>


<div class="post-footer">
<div class="post-categories">
  Categories :
  
  
      <a href="/categories/#Project">Project</a>
  &nbsp;
  
      <a href="/categories/#Research">Research</a>
  
  
</div>
<div>

<style>
#share-buttons {display: inline-block; vertical-align: middle; }
#share-buttons:after {content: ""; display: block; clear: both;}
#share-buttons > div {
    position: relative;
    text-align: left; 
    height: 36px; 
    width: 32px; 
    float: left; 
    text-align: center;
}
#share-buttons > div > svg {height: 16px; fill: #d5d5d5; margin-top: 10px;}
#share-buttons > div:hover {cursor: pointer;}
#share-buttons > div.facebook:hover > svg {fill: #3B5998;}
#share-buttons > div.twitter:hover > svg {fill: #55ACEE;}
#share-buttons > div.linkedin:hover > svg {fill: #0077b5;}
#share-buttons > div.pinterest:hover > svg {fill: #CB2027;}
#share-buttons > div.mail:hover > svg {fill: #7D7D7D;}
#share-buttons > div.instagram:hover > svg {fill: #C73B92;}
#share-buttons > div.facebook > svg {height: 18px; margin-top: 9px;}
#share-buttons > div.twitter > svg {height: 20px; margin-top: 8px;}
#share-buttons > div.linkedin > svg {height: 19px; margin-top: 7px;}
#share-buttons > div.pinterest > svg {height: 20px; margin-top: 9px;}
#share-buttons > div.mail > svg {height: 14px; margin-top: 11px;}
</style>

<span>Share on: </span><div id="share-buttons">
    <div class="facebook" title="Share this on Facebook" onclick="window.open('http://www.facebook.com/share.php?u=http://localhost:4000/project/research/2025/11/24/Project-_Onvacation_project.html');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759h-306v-759h-255v-296h255v-218q0-186 104-288.5t277-102.5q147 0 228 12z"/></svg></div>
    <div class="twitter" title="Share this on Twitter" onclick="window.open('http://twitter.com/home?status=http://localhost:4000/project/research/2025/11/24/Project-_Onvacation_project.html');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5t-115.5 248.5-184.5 210.5-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5t-114-159.5q33 5 61 5 43 0 85-11-112-23-185.5-111.5t-73.5-205.5v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5t371.5 99.5q-8-38-8-74 0-134 94.5-228.5t228.5-94.5q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"/></svg></div>
    <div class="linkedin" title="Share this on Linkedin" onclick="window.open('https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/project/research/2025/11/24/Project-_Onvacation_project.html&title=&summary=&source=');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M477 625v991h-330v-991h330zm21-306q1 73-50.5 122t-135.5 49h-2q-82 0-132-49t-50-122q0-74 51.5-122.5t134.5-48.5 133 48.5 51 122.5zm1166 729v568h-329v-530q0-105-40.5-164.5t-126.5-59.5q-63 0-105.5 34.5t-63.5 85.5q-11 30-11 81v553h-329q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5 114.5-15.5q171 0 275 113.5t104 332.5z"/></svg></div>
    
    <div class="mail" title="Share this through Email" onclick="window.open('mailto:?subject=Hey Checkout this Amazing Blog I Found&body=http://localhost:4000/project/research/2025/11/24/Project-_Onvacation_project.html');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1792 710v794q0 66-47 113t-113 47h-1472q-66 0-113-47t-47-113v-794q44 49 101 87 362 246 497 345 57 42 92.5 65.5t94.5 48 110 24.5h2q51 0 110-24.5t94.5-48 92.5-65.5q170-123 498-345 57-39 100-87zm0-294q0 79-49 151t-122 123q-376 261-468 325-10 7-42.5 30.5t-54 38-52 32.5-57.5 27-50 9h-2q-23 0-50-9t-57.5-27-52-32.5-54-38-42.5-30.5q-91-64-262-182.5t-205-142.5q-62-42-117-115.5t-55-136.5q0-78 41.5-130t118.5-52h1472q65 0 112.5 47t47.5 113z"/></svg></div>
</div>

<!--- Special thanks to https://jekyllcodex.org/without-plugin/share-buttons for this amazing piece of code without the use of actual images---></div>

</div>

  <hr>
  <div id="disqus_thread"></div>
<script>
  var disqus_config = function () {
    this.page.url = 'http://localhost:4000/project/research/2025/11/24/Project-_Onvacation_project.html';
    this.page.identifier = 'http://localhost:4000/project/research/2025/11/24/Project-_Onvacation_project.html';
  };
  (function() {
    var d = document, s = d.createElement('script');
    s.src = 'https://MovingJu.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

    </main>
</div>


    <!-- 기존 스크립트들, defer 유지 -->
    <script defer src="/assets/js/theme.js"></script>
    <script defer src="/assets/js/script.js"></script>

    <!-- md내에서 htmx 사용. -->
    <script src="https://unpkg.com/htmx.org@1.9.11"></script>
  </body>
</html>
